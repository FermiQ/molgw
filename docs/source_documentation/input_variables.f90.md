# `input_variables.f90`

## Overview

This Fortran source file plays a crucial role in managing input parameters for the MOLGW software. It defines a `NAMELIST` group called `molgw`, which includes a comprehensive list of all user-configurable input variables. Furthermore, it provides the default values for each of these variables. This setup allows users to provide an input file specifying only the parameters they wish to change from the defaults. The file is auto-generated by the Python script `input_variables.py` and should not be manually edited. The generation date is "19 March 2025".

## Key Components

*   **`NAMELIST /molgw/ ...`**: This statement declares a Fortran `NAMELIST` group named `molgw`. It enumerates all the input variables that can be set by the user through an external input file. This list is extensive, covering aspects from SCF settings, basis sets, post-SCF calculation types, numerical thresholds, to output controls.
*   **Default Value Assignments**: Following the `NAMELIST` declaration, the file contains a sequence of assignment statements. Each statement assigns a default value to one of the variables listed in the `molgw` namelist. These are the values that the program will use unless overridden by a user's input file.

Example of `NAMELIST` and default assignments:
```fortran
! NAMELIST declaration (partial list)
  namelist /molgw/   &
    auto_auxil_fsam,       &
    basis,       &
    nstep,       &
    scf,       &
    x2c,       &
    ! ... many more variables
    xyz_file

! Default value assignments (partial list)
 auto_auxil_fsam = 1.5_dp 
 basis = ''
 nstep = 50
 scf = ''
 x2c = 'no'
 ! ... many more default assignments
 xyz_file = ''
```

## Important Variables/Constants

*   **`molgw` (Namelist Group)**: The name of the `NAMELIST` group itself. This is the identifier used in the user's input file to specify that the following variable assignments belong to this group.
*   **Input Variables**: All variables listed within the `NAMELIST /molgw/` declaration are the input parameters for MOLGW. Their names, types (implicitly defined by their declaration elsewhere, typically in a module using `input_variable_declaration.f90`), and default values are critical.
    *   The suffix `_dp` on floating-point literals (e.g., `1.5_dp`) indicates that these are double-precision values, where `dp` is a kind parameter defined elsewhere.
*   **Default Values**: The specific values assigned to each variable in this file serve as the program's default operational parameters.

## Usage Examples

This file defines the mechanism for reading MOLGW's input. A user prepares an input file (e.g., `input.dat`) with content like the following:

```fortran
&molgw
  xyz_file = "my_molecule.xyz"  ! Path to molecular geometry
  basis    = "6-31G*"            ! Basis set name
  scf      = "DFT_PBE"           ! SCF method
  nscf     = 200                 ! Max SCF iterations
  postscf  = "GW"                ! Perform a GW calculation after SCF
  charge   = 0.0
&end
```

In the MOLGW program, there would be a Fortran routine that reads this input:
```fortran
! Assuming 'input_module' contains the namelist variables and 'molgw_input_unit' is the unit number for the input file.
! The variables (xyz_file, basis, etc.) must be declared in a scope accessible here,
! typically by USE-associating them from a module where input_variables.f90's content is integrated.

subroutine read_molgw_input(input_file_unit)
  use molgw_input_variables_module ! Contains the namelist variables and the namelist itself
  implicit none
  integer, intent(in) :: input_file_unit

  ! The NAMELIST statement and default assignments from input_variables.f90
  ! are assumed to be part of molgw_input_variables_module.
  ! The read statement below will override defaults with values from the input file.
  
  read(input_file_unit, nml=molgw, iostat=ios)
  if (ios /= 0) then
    ! Handle read error
    print *, "Error reading MOLGW namelist input."
    stop 1
  endif

  ! After this read, the variables in molgw_input_variables_module 
  ! (like xyz_file, basis, scf) will have values from the input file,
  ! or their defaults if not specified.

  ! Proceed to process these variables, e.g., converting 'yes'/'no' strings to logicals.
  call process_parsed_input_variables()

end subroutine read_molgw_input
```

## Dependencies and Interactions

*   **`input_variables.py`**: The external Python script that generates this file.
*   **`input_variable_declaration.f90` (or equivalent module declarations)**: The variables listed in the `NAMELIST` and assigned default values here must be declared with their respective types (integer, real(dp), character, logical) in a corresponding declarations file/module. This file's content (namelist and defaults) is typically integrated into that same module.
*   **MOLGW Input Reading Logic**: The core program must have routines that open the user's input file and use the `read(UNIT, nml=molgw)` statement to populate the variables.
*   **`dp` Kind Parameter**: The `_dp` suffix implies a dependency on the definition of this kind parameter for double-precision real numbers (e.g., via `iso_fortran_env` or a manual `selected_real_kind`).
*   **Implicit Dependencies**: The meaning and effect of each input variable are defined by how they are used in other parts of the MOLGW code.

This file is central to user interaction with MOLGW, defining the primary interface for controlling calculation parameters.
```
